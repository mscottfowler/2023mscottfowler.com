<meta property="og:url" content="{{page.url | absolute_url}}" />

{% if page.title %}
    <meta property="og:type" content="article" />
{% else %}
    <meta property="og:type" content="website" />
{% endif %}

{% if page.categories %}
    {% for category in page.categories limit:1 %}
        <meta property="article:section" content="{{category}}" />
    {% endfor %}
{% endif %}

{% if page.tags %}
    {% for tag in page.tags limit:1 %}
        <meta property="article:tag" content="{{tag}}" />
    {% endfor %}
{% endif %}

{% if page.title %}
    <meta property="og:title" content="{{page.title | escape}}" />
{% else %}
    <meta property="og:title" content="{{site.title | escape}}" />
{% endif %}

<meta property="og:site_name" content="{{site.title}}" />
<meta property="og:description" content="{% if page.description %}{{page.description | strip_html | strip | strip_newlines | truncate: 200}}{% else %}{{page.content | markdownify | strip_html | strip | strip_newlines | truncate: 200}}{% endif %}" />
<meta property="article:published_time" content="{{page.date | date_to_xmlschema}}" />

<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="{{site.twitterHandle}}" />
<meta name="twitter:creator" content="{{site.twitterHandle}}" />
{% if page.title %}
    <meta name="twitter:title" content="{{page.title | escape}}" />
{% else %}
    <meta name="twitter:title" content="{{site.title | escape}}" />
{% endif %}
<meta name="twitter:url" content="{{page.url | absolute_url}}" />
<meta name="twitter:description" content="{% if page.description %}{{page.description | strip_html | strip | strip_newlines | truncate: 200}}{% else %}{{page.content | markdownify | strip_html | strip | strip_newlines | truncate: 200}}{% endif %}" />